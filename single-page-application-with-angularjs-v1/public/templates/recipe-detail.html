<div ng-controller="RecipeDetailController">
  <div class="grid-100 row controls">
    <div class="grid-50">
      <h2 ng-show='recipe != null'>{{recipe.name}}</h2>
      <h2 ng-show='recipe == null'>Add/Edit Recipe</h2>
    </div>
    <div class="grid-50">
      <div class="flush-right">
        <!-- TODO Add directives to both the "Save Recipe" and "Cancel"
          buttons in order to handle user clicks. -->
        <button ng-click="saveRecipe()">Save Recipe</button>
        <button class="secondary" ng-click="cancelRecipe()">Cancel</button>
      </div>
    </div>
  </div>
  <div class="clear"></div>
  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Name </label>
      </p>
    </div>
    <div class="grid-40">
      <p>
        <!-- TODO Add a directive to this input element to bind its value
          to the recipe model's `name` property. -->
        <input type="text" ng-value="recipe.name" ng-model="recipe.name">
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Description </label>
      </p>
    </div>
    <div class="grid-60">
      <p>
        <textarea ng-model="recipe.description" ng-value="recipe.description"></textarea>
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Category </label>
      </p>
    </div>
    <div class="grid-30">
      <p>
        <!-- TODO Add directives to this select element to bind its value
          to the recipe model's `category` property and to populate the list
          with the categories from the database. -->
        <select
            ng-model="categorySelected"
            ng-options = "category.name for category in categories"
            ng-change = "setCategory()"
            >
        </select>
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Prep Time </label>
      </p>
    </div>
    <div class="grid-20">
      <p>
        <input type="number" ng-model="recipe.prepTime" ng-value="recipe.prepTime">
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Cook Time </label>
      </p>
    </div>
    <div class="grid-20">
      <p>
        <input type="number" ng-model="recipe.cookTime" ng-value="recipe.cookTime">
      </p>
    </div>
  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Ingredients </label>
      </p>
    </div>
    <div class="grid-30">
      <p class="label-spacing">
        <label> Item </label>
      </p>
    </div>
    <div class="grid-30">
      <p class="label-spacing">
        <label> Condition </label>
      </p>
    </div>
    <div class="grid-15">
      <p class="label-spacing">
        <label> Amount </label>
      </p>
    </div>
    <div class="ingredient-row" ng-repeat="ingredient in recipe.ingredients">
      <div class="prefix-20 grid-30">
        <p>
          <select ng-model="ingredient.foodItem" ng-options="foodItem.name as foodItem.name for foodItem in foodItems">
            <option value="">Select Item</option>
          </select>
        </p>
      </div>
      <div class="grid-30">
        <p>
          <input type="text" ng-model="ingredient.condition" ng-value="ingredient.condition">
        </p>
      </div>
      <div class="grid-15">
        <p>
          <input type="text" ng-model="ingredient.amount" ng-value="ingredient.amount">
        </p>
      </div>
      <div class="grid-5 pad-top">
        <p class="flush-right">
          <!-- TODO Add a directive to this anchor element so that you can
            delete the recipe ingredient when the user clicks on the 'Delete' link. -->
          <a class="no-action-link" ng-click="deleteIngredient(ingredient)"> <img src="images/delete.svg" height="12px"> </a>
        </p>
      </div>
    </div>

    <div class="prefix-20 grid-80 add-row">
      <p>
        <!-- TODO Add a directive to this button in order to handle
          when the user clicks to add a new recipe ingredient. -->
        <button>+ Add Another Ingredient</button>
      </p>
    </div>

  </div>
  <div class="clear"></div>

  <div class="grid-100 row">
    <div class="grid-20">
      <p class="label-spacing">
        <label> Steps </label>
      </p>
    </div>
    <div class="grid-75">
      <p class="label-spacing">
        <label> Description </label>
      </p>
    </div>

    <!-- TODO Add a directive to this div element so that it repeats
      for each recipe step to display. -->
    <div class="step-row">
      <div class="prefix-20 grid-75">
        <p>
          <!-- TODO Add a directive to this input element to bind its value
            to the recipe step model's `description` property. -->
          <input type="text">
        </p>
      </div>
      <div class="grid-5 pad-top">
        <p class="flush-right">
          <!-- TODO Add a directive to this anchor element so that you can
            delete the recipe step when the user clicks on the 'Delete' link. -->
          <a class="no-action-link"> <img src="images/delete.svg" height="12px"> </a>
        </p>
      </div>
    </div>

    <div class="prefix-20 grid-80 add-row">
      <p>
       <!-- TODO Add a directive to this button in order to handle
         when the user clicks to add a new recipe step. -->
       <button>+ Add Another Step</button>
      </p>
    </div>

  </div>
  <div class="clear"></div>
</div>
